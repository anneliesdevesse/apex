<?xml version='1.0' encoding='UTF-8'?>
<apex:apex xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://med.kuleuven.be/exporl/apex/3.1.0/experiment https://gilbert.med.kuleuven.be/apex/schemas/3.1.0/experiment.xsd"
 xmlns:apex="http://med.kuleuven.be/exporl/apex/3.1.0/experiment" version="1">
        <!--
        misty.xlm
        File that was actually used to present to the participants.
        Comes from vcv_v2.xml.

        Created June 22, 2015.
        Arturo Moncada-Torres - KU Leuven
        arturo.moncadatorres@med.kuleuven.be
        http://www.arturomoncadatorres.com
        -->

        <!-- Procedures -->
        <procedure xsi:type="apex:constantProcedure">
                <parameters>
                        <presentations>8</presentations>
                        <order>random</order>
                        <corrector xsi:type="apex:isequal"/>
                </parameters>
                <trials>
                        <trial id="tr_1">
                                <answer>b_b</answer>
                                <screen id="sc_buttons"/>
                                <stimulus id="st_aba"/>
                        </trial>
                        <trial id="tr_2">
                                <answer>b_ch</answer>
                                <screen id="sc_buttons"/>
                                <stimulus id="st_acha"/>
                        </trial>
                        <trial id="tr_3">
                                <answer>b_d</answer>
                                <screen id="sc_buttons"/>
                                <stimulus id="st_ada"/>
                        </trial>
                        <trial id="tr_4">
                                <answer>b_f</answer>
                                <screen id="sc_buttons"/>
                                <stimulus id="st_afa"/>
                        </trial>
                        <trial id="tr_5">
                                <answer>b_m</answer>
                                <screen id="sc_buttons"/>
                                <stimulus id="st_ama"/>
                        </trial>
                        <trial id="tr_6">
                                <answer>b_n</answer>
                                <screen id="sc_buttons"/>
                                <stimulus id="st_ana"/>
                        </trial>
                        <trial id="tr_7">
                                <answer>b_p</answer>
                                <screen id="sc_buttons"/>
                                <stimulus id="st_apa"/>
                        </trial>
                        <trial id="tr_8">
                                <answer>b_s</answer>
                                <screen id="sc_buttons"/>
                                <stimulus id="st_asa"/>
                        </trial>
                        <trial id="tr_9">
                                <answer>b_t</answer>
                                <screen id="sc_buttons"/>
                                <stimulus id="st_ata"/>
                        </trial>
                        <trial id="tr_10">
                                <answer>b_v</answer>
                                <screen id="sc_buttons"/>
                                <stimulus id="st_ava"/>
                        </trial>
                        <trial id="tr_11">
                                <answer>b_w</answer>
                                <screen id="sc_buttons"/>
                                <stimulus id="st_awa"/>
                        </trial>
                        <trial id="tr_12">
                                <answer>b_z</answer>
                                <screen id="sc_buttons"/>
                                <stimulus id="st_aza"/>
                        </trial>
                </trials>
        </procedure>

        <!-- Screens -->
        <screens>
                <reinforcement>
                        <progressbar>true</progressbar>
                        <!--<feedback length="500">true</feedback>-->
                        <feedback length="500">false</feedback>
                </reinforcement>
                <screen id="sc_buttons">
                <gridLayout width="6" height="5" columnstretch="2,1,1,1,1,2">
                        <button id="b_a1" col="1" row="2">
                                <disabled>true</disabled>
                                <text>a</text>
                        </button>

                        <button id="b_b" col="2" row="1">
                                <text>b</text>
                        </button>
                        <button id="b_ch" col="3" row="1">
                                <text>ch</text>
                        </button>
                        <button id="b_d" col="4" row="1">
                                <text>d</text>
                        </button>
                        <button id="b_f" col="5" row="1">
                                <text>f</text>
                        </button>

                        <button id="b_m" col="2" row="2">
                                <text>m</text>
                        </button>
                        <button id="b_n" col="3" row="2">
                                <text>n</text>
                        </button>
                        <button id="b_p" col="4" row="2">
                                <text>p</text>
                        </button>
                        <button id="b_s" col="5" row="2">
                                <text>s</text>
                        </button>

                        <button id="b_t" col="2" row="3">
                                <text>t</text>
                        </button>
                        <button id="b_v" col="3" row="3">
                                <text>v</text>
                        </button>
                        <button id="b_w" col="4" row="3">
                                <text>w</text>
                        </button>
                        <button id="b_z" col="5" row="3">
                                <text>z</text>
                        </button>

                        <button id="b_a2" col="6" row="2">
                                <disabled>true</disabled>
                                <text>a</text>
                        </button>
                </gridLayout>
                <buttongroup id="buttongroup">
                        <button id="b_a1"/>

                        <button id="b_b"/>
                        <button id="b_ch"/>
                        <button id="b_d"/>
                        <button id="b_f"/>

                        <button id="b_m"/>
                        <button id="b_n"/>
                        <button id="b_p"/>
                        <button id="b_s"/>

                        <button id="b_t"/>
                        <button id="b_v"/>
                        <button id="b_w"/>
                        <button id="b_z"/>

                        <button id="b_a2"/>
                </buttongroup>
                        <default_answer_element>buttongroup</default_answer_element>
        </screen>
        </screens>

        <!-- Datablocks
                Remember, basically, a <datablock> is a wave file on disk with
                an ID assigned, such that it can be referred to elsewhere
                in the experiment file. -->
        <datablocks>
                <uri_prefix>file:./audio/original_subset/</uri_prefix>
                <datablock id = "db_aba">
                        <device>wavdevice</device>
                        <uri>aba.wav</uri>
                </datablock>
                <datablock id = "db_acha">
                        <device>wavdevice</device>
                        <uri>acha.wav</uri>
                </datablock>
                <datablock id = "db_ada">
                        <device>wavdevice</device>
                        <uri>ada.wav</uri>
                </datablock>
                <datablock id = "db_afa">
                        <device>wavdevice</device>
                        <uri>afa.wav</uri>
                </datablock>
                <datablock id = "db_ama">
                        <device>wavdevice</device>
                        <uri>ama.wav</uri>
                </datablock>
                <datablock id = "db_ana">
                        <device>wavdevice</device>
                        <uri>ana.wav</uri>
                </datablock>
                <datablock id = "db_apa">
                        <device>wavdevice</device>
                        <uri>apa.wav</uri>
                </datablock>
                <datablock id = "db_asa">
                        <device>wavdevice</device>
                        <uri>asa.wav</uri>
                </datablock>
                <datablock id = "db_ata">
                        <device>wavdevice</device>
                        <uri>ata.wav</uri>
                </datablock>
                <datablock id = "db_ava">
                        <device>wavdevice</device>
                        <uri>ava.wav</uri>
                </datablock>
                <datablock id = "db_awa">
                        <device>wavdevice</device>
                        <uri>awa.wav</uri>
                </datablock>
                <datablock id = "db_aza">
                        <device>wavdevice</device>
                        <uri>aza.wav</uri>
                </datablock>
                <datablock id = "db_noise">
                        <device>wavdevice</device>
                        <uri>noise.wav</uri>
                </datablock>
                <datablock id="silence">
                        <device>wavdevice</device>
                        <uri>silence:500</uri>
                </datablock>
        </datablocks>

        <!-- Devices -->
        <devices>
                <device id="wavdevice" xsi:type="apex:wavDeviceType">
                        <driver>portaudio</driver>
                        <card>interactive</card>
                        <channels>2</channels>
                        <gain channel="0" id='gainleft'>0</gain>
                        <gain channel="1" id='gainright'>0</gain>
                        <samplerate>44100</samplerate>
                </device>
        </devices>

        <!-- Filters -->
        <filters>
                <filter id="noisegen" xsi:type="apex:dataloop">
                        <device>wavdevice</device>
                        <channels>1</channels>
                        <continuous>true</continuous>
                        <datablock>db_noise</datablock>
                        <basegain>0</basegain>
                        <invertgain>1</invertgain>
                        <gain id="noisegain">0</gain>
                        <randomjump>true</randomjump>
                </filter>
                <filter id="amplifier" xsi:type="apex:amplifier">
                        <device>wavdevice</device>
                        <channels>1</channels>
                        <basegain>0</basegain>
                        <gain id="gain">0</gain>
                </filter>
        </filters>

        <!-- Stimuli -->
        <stimuli>
                <fixed_parameters>
                </fixed_parameters><stimulus id="st_aba">
                        <datablocks>
                                <sequential>
                                        <datablock id="silence"/>
                                        <datablock id="db_aba"/>
                                        <datablock id="silence"/>
                                </sequential>
                        </datablocks>
                        <variableParameters>
                        </variableParameters>
                        <fixedParameters>
                        </fixedParameters>
                </stimulus>
                <stimulus id="st_acha">
                        <datablocks>
                                <sequential>
                                        <datablock id="silence"/>
                                        <datablock id="db_acha"/>
                                        <datablock id="silence"/>
                                </sequential>
                        </datablocks>
                        <variableParameters>
                        </variableParameters>
                        <fixedParameters>
                        </fixedParameters>
                </stimulus>
                <stimulus id="st_ada">
                        <datablocks>
                                <sequential>
                                        <datablock id="silence"/>
                                        <datablock id="db_ada"/>
                                        <datablock id="silence"/>
                                </sequential>
                        </datablocks>
                        <variableParameters>
                        </variableParameters>
                        <fixedParameters>
                        </fixedParameters>
                </stimulus>
                <stimulus id="st_afa">
                        <datablocks>
                                <sequential>
                                        <datablock id="silence"/>
                                        <datablock id="db_afa"/>
                                        <datablock id="silence"/>
                                </sequential>
                        </datablocks>
                        <variableParameters>
                        </variableParameters>
                        <fixedParameters>
                        </fixedParameters>
                </stimulus>
                <stimulus id="st_ama">
                        <datablocks>
                                <sequential>
                                        <datablock id="silence"/>
                                        <datablock id="db_ama"/>
                                        <datablock id="silence"/>
                                </sequential>
                        </datablocks>
                        <variableParameters>
                        </variableParameters>
                        <fixedParameters>
                        </fixedParameters>
                </stimulus>
                <stimulus id="st_ana">
                        <datablocks>
                                <sequential>
                                        <datablock id="silence"/>
                                        <datablock id="db_ana"/>
                                        <datablock id="silence"/>
                                </sequential>
                        </datablocks>
                        <variableParameters>
                        </variableParameters>
                        <fixedParameters>
                        </fixedParameters>
                </stimulus>
                <stimulus id="st_apa">
                        <datablocks>
                                <sequential>
                                        <datablock id="silence"/>
                                        <datablock id="db_apa"/>
                                        <datablock id="silence"/>
                                </sequential>
                        </datablocks>
                        <variableParameters>
                        </variableParameters>
                        <fixedParameters>
                        </fixedParameters>
                </stimulus>
                <stimulus id="st_asa">
                        <datablocks>
                                <sequential>
                                        <datablock id="silence"/>
                                        <datablock id="db_asa"/>
                                        <datablock id="silence"/>
                                </sequential>
                        </datablocks>
                        <variableParameters>
                        </variableParameters>
                        <fixedParameters>
                        </fixedParameters>
                </stimulus>
                <stimulus id="st_ata">
                        <datablocks>
                                <sequential>
                                        <datablock id="silence"/>
                                        <datablock id="db_ata"/>
                                        <datablock id="silence"/>
                                </sequential>
                        </datablocks>
                        <variableParameters>
                        </variableParameters>
                        <fixedParameters>
                        </fixedParameters>
                </stimulus>
                <stimulus id="st_ava">
                        <datablocks>
                                <sequential>
                                        <datablock id="silence"/>
                                        <datablock id="db_ava"/>
                                        <datablock id="silence"/>
                                </sequential>
                        </datablocks>
                        <variableParameters>
                        </variableParameters>
                        <fixedParameters>
                        </fixedParameters>
                </stimulus>
                <stimulus id="st_awa">
                        <datablocks>
                                <sequential>
                                        <datablock id="silence"/>
                                        <datablock id="db_awa"/>
                                        <datablock id="silence"/>
                                </sequential>
                        </datablocks>
                        <variableParameters>
                        </variableParameters>
                        <fixedParameters>
                        </fixedParameters>
                </stimulus>
                <stimulus id="st_aza">
                        <datablocks>
                                <sequential>
                                        <datablock id="silence"/>
                                        <datablock id="db_aza"/>
                                        <datablock id="silence"/>
                                </sequential>
                        </datablocks>
                        <variableParameters>
                        </variableParameters>
                        <fixedParameters>
                        </fixedParameters>
                </stimulus>
                <stimulus id="st_silence">
                        <datablocks>
                                <sequential>
                                        <datablock id="silence"/>
                                </sequential>
                        </datablocks>
                </stimulus>
        </stimuli>

        <!-- Connections -->
        <connections>
                <connection>
                        <from>
                                <id>_ALL_</id>
                                <channel>0</channel>
                        </from>
                        <to>
                                <id>amplifier</id>
                                <channel>0</channel>
                        </to>
                </connection>
                <connection>
                        <from>
                                <id>amplifier</id>
                                <channel>0</channel>
                        </from>
                        <to>
                                <id>wavdevice</id>
                                <channel>0</channel>
                        </to>
                </connection>
                <connection>
                        <from>
                                <id>noisegen</id>
                                <channel>0</channel>
                        </from>
                        <to>
                                <id>wavdevice</id>
                                <channel>0</channel>
                        </to>
                </connection>
        </connections>

        <calibration profile="vcv">
                <stimuli>
                        <stimulus id="st_silence"/>
                </stimuli>
                <parameters>
                        <parameter id="gainleft">
                                <!-- Calibration is preferably done in dbA -->
                                <targetamplitude>60</targetamplitude>                           <!-- 65 dbSPL ~ 60 dbA-->
                                <calibrationamplitude>80</calibrationamplitude>         <!-- Set to higher value to avoid interference from other sounds. -->
                                <mute>-150</mute>                                                                       <!-- Shut up gain value of other channel. -->
                        </parameter>
                </parameters>
        </calibration>

        <!-- Results -->
        <results>
                <xsltscript>apexresult.xsl</xsltscript>
                <xsltscriptparameters>
                </xsltscriptparameters>
                <showresults>true</showresults>
                <saveprocessedresults>true</saveprocessedresults>
                <subject></subject>
        </results>

        <!-- Interactive -->
        <interactive>
                <entry default="" description="Participant" expression="/apex:apex/results/subject" type="string"/>
                <entry default="file:./audio/amp0|file:./audio/amp1|file:./audio/amp2|file:./audio/amp3|file:./audio/amp4|file:./audio/amp5|file:./audio/amp6|file:./audio/amp7|file:./audio/amp8|file:./audio/amp9|file:./audio/amp10|file:./audio/amp11|file:./audio/amp12|file:./audio/amp13|file:./audio/amp14|file:./audio/amp15|file:./audio/amp16|file:./audio/amp17|file:./audio/amp18|file:./audio/amp19|file:./audio/amp20|file:./audio/amp21|file:./audio/amp22|file:./audio/amp23|file:./audio/amp24" description="EE Amp. Factor" expression="/apex:apex/datablocks[1]/uri_prefix[1]" type="combo"/>
                <!--<entry default="0" description="SNR [dB]" expression="/apex:apex/filters/filter[@id='amplifier']/gain" type="double"/>-->
                <entry default="0" description="SNR [dB]" expression="/apex:apex/filters/filter[@id='noisegen']/gain" type="int"/>
                <!--<entry default="0" description="SNR [dB]" expression="/apex:apex/filters/filter[@id='noisegen']/gain" type="double"/>-->
        </interactive>
</apex:apex>
